<view class="container">
  <view class="header">
    <text class="title">{{type === 'daily' ? '今日报表' : type === 'monthly' ? '本月报表' : '本年报表'}}</text>
  </view>

  <view class="charts-container">
    <!-- 支出收入对比图 -->
    <view class="chart-card">
      <view class="chart-title">收支对比</view>
      <ec-canvas id="incomeExpenseChart" canvas-id="incomeExpenseChart" ec="{{ ec }}"></ec-canvas>
    </view>

    <!-- 分类占比图 -->
    <view class="chart-card">
      <view class="chart-title">分类占比</view>
      <ec-canvas id="categoryChart" canvas-id="categoryChart" ec="{{ ec }}"></ec-canvas>
    </view>

    <!-- 趋势图 -->
    <view class="chart-card">
      <view class="chart-title">趋势分析</view>
      <ec-canvas id="trendChart" canvas-id="trendChart" ec="{{ ec }}"></ec-canvas>
    </view>
  </view>

  <!-- AI分析 -->
  <view class="ai-analysis">
    <view class="analysis-title">AI分析</view>
    <view class="analysis-content">{{aiAnalysis}}</view>
  </view>

  <!-- 详细数据列表 -->
  <view class="data-list">
    <view class="list-title">详细数据</view>
    <view class="list-item" wx:for="{{reportData}}" wx:key="date">
      <view class="item-left">
        <text class="item-date">{{item.date}}</text>
        <text class="item-category">{{item.category}}</text>
      </view>
      <view class="item-right">
        <text class="item-name">{{item.item}}</text>
        <text class="item-amount {{item.isIncome ? 'income' : 'expense'}}">
          {{item.isIncome ? '+' : '-'}}¥{{item.amount}}
        </text>
      </view>
    </view>
  </view>
</view> 